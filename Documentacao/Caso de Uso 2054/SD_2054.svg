<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="559px" preserveAspectRatio="none" style="width:1833px;height:559px;background:#FFFFFF;" version="1.1" viewBox="0 0 1833 559" width="1833px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uzru98pyrp8z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="264" x="782" y="28.708">SD - Registar Departamento</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="106" x2="106" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="703" x2="703" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="928" x2="928" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1099" x2="1099" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1291" x2="1291" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1515" x2="1515" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1659" x2="1659" y1="75.25" y2="516.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1758" x2="1758" y1="75.25" y2="516.1094"/><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="199" x="5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="12" y="59.9482">:RegistarDepartamentoUI</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="199" x="5" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="12" y="535.1045">:RegistarDepartamentoUI</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="259" x="572" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="579" y="59.9482">:RegistarDepartamentoController</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="259" x="572" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="579" y="535.1045">:RegistarDepartamentoController</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="845" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="852" y="59.9482">:PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="845" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="852" y="535.1045">:PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="152" x="1021" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1028" y="59.9482">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="152" x="1021" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1028" y="535.1045">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="205" x="1187" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="1194" y="59.9482">:DepartamentoRepository</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="205" x="1187" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="1194" y="535.1045">:DepartamentoRepository</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="215" x="1406" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="1413" y="59.9482">:CodigoUnicoDepartamento</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="215" x="1406" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="1413" y="535.1045">:CodigoUnicoDepartamento</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="1635" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1642" y="59.9482">:Cor</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="1635" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1642" y="535.1045">:Cor</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="126" x="1693" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1700" y="59.9482">:Departamento</text><rect fill="#FEFECE" filter="url(#f1uzru98pyrp8z)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="126" x="1693" y="515.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1700" y="535.1045">:Departamento</text><polygon fill="#A80036" points="691.5,102.3828,701.5,106.3828,691.5,110.3828,695.5,106.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106.5" x2="697.5" y1="106.3828" y2="106.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="113.5" y="101.3169">create</text><polygon fill="#A80036" points="916,131.5156,926,135.5156,916,139.5156,920,135.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="922" y1="135.5156" y2="135.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="710.5" y="130.4497">repositories()</text><polygon fill="#A80036" points="1087,160.6484,1097,164.6484,1087,168.6484,1091,164.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="928" x2="1093" y1="164.6484" y2="164.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="935" y="159.5825">create</text><polygon fill="#A80036" points="1279.5,189.7813,1289.5,193.7813,1279.5,197.7813,1283.5,193.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1099" x2="1285.5" y1="193.7813" y2="193.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1106" y="188.7153">create</text><polygon fill="#A80036" points="714.5,218.9141,704.5,222.9141,714.5,226.9141,710.5,222.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="708.5" x2="927" y1="222.9141" y2="222.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="720.5" y="217.8481">RepositorioDepartamento</text><line style="stroke:#A80036;stroke-width:1.0;" x1="106.5" x2="148.5" y1="252.0469" y2="252.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="148.5" x2="148.5" y1="252.0469" y2="265.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107.5" x2="148.5" y1="265.0469" y2="265.0469"/><polygon fill="#A80036" points="117.5,261.0469,107.5,265.0469,117.5,269.0469,113.5,265.0469" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="113.5" y="246.981">doShow()</text><polygon fill="#A80036" points="691.5,290.1797,701.5,294.1797,691.5,298.1797,695.5,294.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106.5" x2="697.5" y1="294.1797" y2="294.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="573" x="113.5" y="289.1138">registarDepartamento(codigo, descricaoDepartamento, vermelho, verde, azul, nomeCor)</text><polygon fill="#A80036" points="1279.5,319.3125,1289.5,323.3125,1279.5,327.3125,1283.5,323.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1285.5" y1="323.3125" y2="323.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="710.5" y="318.2466">departamentos = findAll()</text><polygon fill="#A80036" points="1503.5,348.4453,1513.5,352.4453,1503.5,356.4453,1507.5,352.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1509.5" y1="352.4453" y2="352.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="710.5" y="347.3794">codigoDepartamento = novoCodigo(codigo)</text><polygon fill="#A80036" points="1279.5,377.5781,1289.5,381.5781,1279.5,385.5781,1283.5,381.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1285.5" y1="381.5781" y2="381.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="710.5" y="376.5122">verificarCodigoUnico(departamentos, codigoDepartamento)</text><polygon fill="#A80036" points="1647,406.7109,1657,410.7109,1647,414.7109,1651,410.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1653" y1="410.7109" y2="410.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="710.5" y="405.645">corDepartamento = novaCor(vermelho, verde, azul, nomeCor)</text><polygon fill="#A80036" points="1279.5,435.8438,1289.5,439.8438,1279.5,443.8438,1283.5,439.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1285.5" y1="439.8438" y2="439.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="710.5" y="434.7778">verificarCor(departamentos, corDepartamento)</text><polygon fill="#A80036" points="1746,464.9766,1756,468.9766,1746,472.9766,1750,468.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1752" y1="468.9766" y2="468.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="616" x="710.5" y="463.9106">novoDepartamento = create(codigoDepartamento, descricaoDepartamento, corDepartamento)</text><polygon fill="#A80036" points="1279.5,494.1094,1289.5,498.1094,1279.5,502.1094,1283.5,498.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="703.5" x2="1285.5" y1="498.1094" y2="498.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="710.5" y="493.0435">save(novoDepartamento)</text><!--MD5=[fbf596177b53c7d9292f3c713487cef9]
@startuml
title SD - Registar Departamento

	participant ":RegistarDepartamentoUI" as rui
	participant ":RegistarDepartamentoController" as ctrl
	participant ":PersistenceContext" as pc
	participant ":RepositoryFactory" as rf
	participant ":DepartamentoRepository" as repo
    participant ":CodigoUnicoDepartamento" as code
	participant ":Cor" as cor
	participant ":Departamento" as dp

	rui->ctrl:create
	ctrl->pc:repositories()
	pc->rf:create
	rf->repo:create
	pc- ->ctrl:RepositorioDepartamento

	rui->rui:doShow()

	rui->ctrl:registarDepartamento(codigo, descricaoDepartamento, vermelho, verde, azul, nomeCor)
    ctrl->repo:departamentos = findAll()
    
    ctrl->code: codigoDepartamento = novoCodigo(codigo)
    ctrl->repo:verificarCodigoUnico(departamentos, codigoDepartamento)
    
    ctrl->cor: corDepartamento = novaCor(vermelho, verde, azul, nomeCor)
    ctrl->repo:verificarCor(departamentos, corDepartamento)
   

	ctrl->dp:novoDepartamento = create(codigoDepartamento, descricaoDepartamento, corDepartamento)
	ctrl->repo:save(novoDepartamento)
@enduml

PlantUML version 1.2021.6beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>